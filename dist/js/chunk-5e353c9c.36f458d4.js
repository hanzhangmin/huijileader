(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e353c9c"],{"421a":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchbox"},[a("div",{staticClass:"searchobj"},[a("label",{attrs:{for:""}},[e._v(" "+e._s(e.areaname)+": "),0!=e.$store.state.level?a("el-select",{attrs:{disabled:"",size:e.size,placeholder:"请选择镇/街道"},model:{value:e.townid,callback:function(t){e.townid=t},expression:"townid"}},e._l(e.towns,(function(e){return a("el-option",{key:"town"+e.id,attrs:{label:e.name,value:e.id}})})),1):a("el-select",{attrs:{size:e.size,placeholder:"请选择镇/街道"},model:{value:e.townid,callback:function(t){e.townid=t},expression:"townid"}},e._l(e.towns,(function(e){return a("el-option",{key:"town"+e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("label",{attrs:{for:""}},[e._v(" 村： "),a("el-select",{attrs:{size:e.size,placeholder:"请选择行政村"},model:{value:e.villageid,callback:function(t){e.villageid=t},expression:"villageid"}},e._l(e.villages,(function(e){return a("el-option",{key:"village"+e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),a("div",[a("el-button",{attrs:{type:"primary",size:e.size},on:{click:e.onSubmit}},[e._v("搜索")])],1)])},l=[],n=(a("d81d"),a("b0c0"),a("a9e3"),a("d3b7"),a("25f0"),a("1bab")),s={name:"SearchFeedback",data:function(){return{size:"medium",townid:"0",villages:[],villageid:"0"}},computed:{areaid:function(){return Number(this.$store.state.areaid)},areaname:function(){return this.$store.state.areaname},towns:function(){var e=this.$store.state.towns.map((function(e){return{id:e.zhenid.toString(),name:e.zhenName}}));return e}},created:function(){this.townid=this.$store.state.townid.toString(),this.villageid=this.$store.state.villageid.toString(),this.getvillages(this.townid)},methods:{gettowns:function(e){Object(n["r"])({join:"area",s:{"area.id":{$eq:Number(e)}}}).then((function(e){console.log(e)}))},getvillages:function(e){var t=this;Object(n["z"])({join:"town",s:{"town.id":{$eq:Number(e)}}}).then((function(e){0!=e.length&&(t.villageid=e[0].id.toString(),t.onSubmit()),t.villages=e.map((function(e){return{id:e.id.toString(),name:e.name}}))}))},onSubmit:function(){this.$emit("villageSearch",this.villageid)}},watch:{townid:function(e){this.villageid="",this.getvillages(this.townid)}}},r=s,o=a("2877"),c=Object(o["a"])(r,i,l,!1,null,null,null);t["a"]=c.exports},"681f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("VmemberTable")},l=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BaseCard",[a("div",{attrs:{slot:"header"},slot:"header"},[a("VillageSearch",{on:{villageSearch:e.villageSearch}})],1),a("div",{attrs:{slot:"body"},slot:"body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"16px"},attrs:{type:"expand",data:e.tableData,border:"",height:"80vh"}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"姓名",width:"100"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"60"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"160"}}),a("el-table-column",{attrs:{prop:"duties",label:"职位",width:"120"}}),a("el-table-column",{attrs:{prop:"periodOfService",label:"任职时间",width:"120"}}),a("el-table-column",{attrs:{prop:"responsibilities",label:"职务",width:"auto"}}),a("el-table-column",{attrs:{prop:"thirdCommittee",label:"村三委",width:"auto"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",width:"auto"}}),a("el-table-column",{attrs:{prop:"index",fixed:"right",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v("照片")])]}}])})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[16,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showcard,expression:"showcard"}],staticClass:"mask",on:{click:e.hidenMask}},[a("div",{staticClass:"centerbody"},[a("div",{staticClass:"cardcontent"},[a("img",{staticStyle:{width:"300px",margin:"0 auto"},attrs:{src:e.itemdata.img,alt:"",srcset:""}})])])])],1)},s=[],r=(a("d81d"),a("a434"),a("b0c0"),a("a9e3"),a("1bab")),o=a("0c58"),c=a("7ebd"),d=a("ea2c"),u=a("1b72"),h=a("421a"),b={name:"VmemberTable",components:{BaseCard:c["a"],themask:u["a"],BaseCard2:d["a"],VillageSearch:h["a"]},data:function(){return{pageSize:16,currentPage:1,pageCount:1,total:0,tableData:[],itemdata:{},loading:!0,showcard:!1,villageid:""}},created:function(){},methods:{get_tableData:function(e){var t=this;this.loading=!0,Object(r["v"])({limit:this.pageSize,page:this.currentPage,join:"village",s:{"village.id":{$eq:Number(e)}}}).then((function(e){console.log(e),t.loading=!1,t.total=e.total,t.tableData.splice(0),t.tableData=e.data.map((function(e,t){var a=null;return null!=e.image&&e.image.length>0&&(a=e.image[0].url),{id:e.id,index:t,name:Object(o["c"])(e.name),sex:0===e.sex?"男":"女",phone:Object(o["c"])(e.phone),address:Object(o["c"])(e.address),thirdCommittee:Object(o["c"])(e.thirdCommittee),duties:Object(o["c"])(e.duties),responsibilities:Object(o["c"])(e.responsibilities),periodOfService:Object(o["c"])(e.periodOfService),img:a}}))}))},villageSearch:function(e){this.villageid=e,this.get_tableData(e)},handleClick:function(e){this.itemdata=this.tableData[Number(e.index)],this.showcard=!0},handleSizeChange:function(e){this.pageSize=Number(e),this.currentPage=1,this.page=1,this.get_tableData(this.villageid)},handleCurrentChange:function(e){this.currentPage=Number(e),this.page=Number(e),this.get_tableData(this.villageid)},hidenMask:function(){this.showcard=!1}}},m=b,g=a("2877"),p=Object(g["a"])(m,n,s,!1,null,null,null),v=p.exports,f={name:"Member",components:{VmemberTable:v}},w=f,S=Object(g["a"])(w,i,l,!1,null,null,null);t["default"]=S.exports}}]);