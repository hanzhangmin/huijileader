{"version":3,"sources":["webpack:///./src/views/index_zhen/zijin.vue?d04f","webpack:///./src/views/index_zhen/zijin.vue?c154","webpack:///src/views/index_zhen/zijin.vue","webpack:///./src/views/index_zhen/zijin.vue?391a","webpack:///./src/views/index_zhen/zijin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_m","on","searchzj","key","reloadzj2","attrs","chartDatezj2","reloadzj1","chartDatezj1","staticRenderFns","_v","name","components","bar03","year2012selector","selectonlyyear","data","xAxisData","timelineData","types","seriesData","year","zhenid","created","Number","$route","params","zhen_id","watch","JSON","stringify","to","methods","console","log","splice","length","getzijin","push","index","i","len","res","village","vName","vm","$set","itemyear","theyear","yhsritem","yhzcitem","xjsritem","xjzcitem","sritem","zcitem","sr","toFixed","zc","seriesItem","seriesValue","getzijinbyyear","themouth","parseInt","itemmouth","m","bankCapital","n1","cdBeiyong1","cdBeiyong2","cashCapital","n2","component"],"mappings":"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","file":"js/chunk-e9160070.a2f085a2.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zijin.vue?vue&type=style&index=0&id=25ae6e0c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zijin.vue?vue&type=style&index=0&id=25ae6e0c&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bodyitem\"},[_c('div',{staticClass:\"platesbody\"},[_c('div',{staticClass:\"plate-header\"},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_vm._m(0),_c('div',[_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('year2012selector',{on:{\"search\":_vm.searchzj}})],1)])])]),_c('div',{staticClass:\"plate-box\",staticStyle:{\"height\":\"400px\"}},[_c('bar03',{key:_vm.reloadzj2,attrs:{\"chartDate\":_vm.chartDatezj2}})],1)]),_c('div',{staticClass:\"platesbody\"},[_vm._m(1),_c('div',{staticClass:\"plate-box\",staticStyle:{\"height\":\"400px\"}},[_c('bar03',{key:_vm.reloadzj1,attrs:{\"chartDate\":_vm.chartDatezj1}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"flex\":\"auto\"}},[_c('h2',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"近年来全区各镇(街道)所辖行政村资金柱状图(月表) \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plate-header\",staticStyle:{\"text-align\":\"left\"}},[_c('h2',[_vm._v(\"近年来全区各镇(街道)所辖行政村资金柱状图(年表)\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bodyitem\">\r\n    <div class=\"platesbody\">\r\n      <div class=\"plate-header\">\r\n        <div style=\"display:flex\">\r\n          <div style=\"flex:auto\">\r\n            <h2 style=\"text-align:left\">近年来全区各镇(街道)所辖行政村资金柱状图(月表)\r\n            </h2>\r\n          </div>\r\n          <div>\r\n            <div style=\"text-align:right\">\r\n              <year2012selector @search=\"searchzj\"></year2012selector>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"plate-box\"\r\n           style=\"height:400px\">\r\n        <bar03 :chartDate=\"chartDatezj2\"\r\n               :key=\"reloadzj2\"></bar03>\r\n      </div>\r\n    </div>\r\n    <div class=\"platesbody\">\r\n      <div class=\"plate-header\"\r\n           style=\"text-align:left\">\r\n        <h2>近年来全区各镇(街道)所辖行政村资金柱状图(年表)</h2>\r\n      </div>\r\n      <div class=\"plate-box\"\r\n           style=\"height:400px\">\r\n        <bar03 :chartDate=\"chartDatezj1\"\r\n               :key=\"reloadzj1\"></bar03>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { post_zjin_zhen } from \"network/request\"\r\nimport { gettime } from \"assets/js/myjs\"\r\nimport bar03 from \"views/echartsExamples/bar_03\"\r\nimport selectonlyyear from \"components/commen/dataselectbar/selectonlyyear\"\r\nimport year2012selector from \"components/commen/dataselectbar/year2012selector\"\r\nexport default {\r\n  name: \"zhenzijin\",\r\n  components: {\r\n    bar03,\r\n    year2012selector,\r\n    selectonlyyear\r\n  },\r\n  data () {\r\n    return {\r\n      chartDatezj1: {\r\n        xAxisData: [],\r\n        timelineData: [],\r\n        types: [\"收入\", \"支出\"],\r\n        seriesData: [\r\n        ]\r\n      },\r\n      chartDatezj2: {\r\n        xAxisData: [],\r\n        timelineData: [],\r\n        types: [\"收入\", \"支出\"],\r\n        seriesData: [\r\n        ]\r\n      },\r\n      reloadzj1: \"\",\r\n      reloadzj2: \"\",\r\n      year: 0,\r\n      zhenid: 0\r\n    }\r\n  },\r\n  created () {\r\n    this.zhenid = Number(this.$route.params.zhen_id)\r\n    post_zjin_zhen(this.zhenid)\r\n      .then(res => {\r\n        console.log(res);\r\n        getzijin(this, res);\r\n        this.year = (new Date()).getFullYear()\r\n        getzijinbyyear(this, this.year, res)\r\n      })\r\n  },\r\n  watch: {\r\n    $route (to, from) {\r\n      if (JSON.stringify(to.params) != \"{}\") {\r\n        this.zhenid = Number(to.params.zhen_id)\r\n        post_zjin_zhen(this.zhenid)\r\n          .then(res => {\r\n            console.log(res);\r\n            getzijin(this, res);\r\n            this.year = (new Date()).getFullYear()\r\n            getzijinbyyear(this, this.year, res)\r\n          })\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    searchzj (year) {\r\n      this.year = Number(year)\r\n      console.log(year);\r\n      this.chartDatezj2.seriesData.splice(0, this.chartDatezj2.seriesData.length)\r\n      post_zjin_zhen(this.zhenid)\r\n        .then(res => {\r\n          console.log(res);\r\n          getzijinbyyear(this, this.year, res)\r\n        })\r\n    }\r\n  },\r\n\r\n}\r\nfunction getzijin (vm, res) {\r\n  let minyear = 2012,\r\n    maxyear = (new Date()).getFullYear(),\r\n    timelineData = [],\r\n    xAxisData = [];\r\n  for (let index = maxyear; index >= minyear; index--) {\r\n    timelineData.push(index + \"年\");\r\n  }\r\n  for (var i = 0, len = res.data.length; i < len; i++) {\r\n    xAxisData.push(res.data[i].village.vName)\r\n  }\r\n  vm.$set(vm.chartDatezj1, \"timelineData\", timelineData)\r\n  vm.$set(vm.chartDatezj1, \"xAxisData\", xAxisData)\r\n  for (let i = 0, len = timelineData.length; i < len; i++) {\r\n    let seriesItem = { seriesNames: [\"收入\", \"支出\"], seriesValue: [] };\r\n    let sr = [],\r\n      zc = [],\r\n      theyear = parseInt(timelineData[i].substr(0, 4));\r\n    for (let m = 0, len = res.data.length; m < len; m++) {\r\n      let sritem = 0,\r\n        zcitem = 0,\r\n        xjsritem = 0,\r\n        xjzcitem = 0,\r\n        yhsritem = 0,\r\n        yhzcitem = 0;\r\n      for (let n1 = 0, nmax1 = res.data[m].bankCapital.length; n1 < nmax1; n1++) {\r\n        let itemyear = Number(res.data[m].bankCapital[n1].cdIncome);\r\n        if (itemyear == theyear) {\r\n          yhsritem += (Number(res.data[m].bankCapital[n1].cdBeiyong1).toFixed(0)) / 10000;\r\n          yhzcitem += (Number(res.data[m].bankCapital[n1].cdBeiyong2).toFixed(0)) / 10000;\r\n        }\r\n      }\r\n      for (let n2 = 0, nmax2 = res.data[m].cashCapital.length; n2 < nmax2; n2++) {\r\n        let itemyear = Number(res.data[m].cashCapital[n2].cdIncome);\r\n        if (itemyear == theyear) {\r\n          xjsritem += (Number(res.data[m].cashCapital[n2].cdBeiyong1).toFixed(0)) / 10000;\r\n          xjzcitem += (Number(res.data[m].cashCapital[n2].cdBeiyong2).toFixed(0)) / 10000;\r\n        }\r\n      }\r\n      sritem = xjsritem + yhsritem;\r\n      zcitem = xjzcitem + yhzcitem;\r\n      sr.push(sritem.toFixed(4));\r\n      zc.push(zcitem.toFixed(4));\r\n    }\r\n    seriesItem.seriesValue.push(sr)\r\n    seriesItem.seriesValue.push(zc)\r\n    // console.log(seriesItem);\r\n    vm.chartDatezj1.seriesData.push(seriesItem)\r\n  }\r\n  vm.reloadzj1 = (new Date()).getTime();\r\n}\r\nfunction getzijinbyyear (vm, theyear, res) {\r\n  let timelineData = [],\r\n    xAxisData = [];\r\n  for (let index = 1; index <= 12; index++) {\r\n    timelineData.push(index + \"月\");\r\n  }\r\n  for (var i = 0, len = res.data.length; i < len; i++) {\r\n    xAxisData.push(res.data[i].village.vName)\r\n  }\r\n  vm.$set(vm.chartDatezj2, \"timelineData\", timelineData)\r\n  vm.$set(vm.chartDatezj2, \"xAxisData\", xAxisData)\r\n  for (let i = 0, len = timelineData.length; i < len; i++) {\r\n    let seriesItem = { seriesNames: [\"收入\", \"支出\"], seriesValue: [] };\r\n    let sr = [],\r\n      zc = [],\r\n      themouth;\r\n    if (timelineData[i].length == 3) {\r\n      themouth = parseInt(timelineData[i].substr(0, 2));\r\n    } else {\r\n      themouth = parseInt(timelineData[i][0]);\r\n    }\r\n    for (let m = 0, len = res.data.length; m < len; m++) {\r\n      let sritem = 0,\r\n        zcitem = 0,\r\n        xjsritem = 0,\r\n        xjzcitem = 0,\r\n        yhsritem = 0,\r\n        yhzcitem = 0;\r\n      for (let n1 = 0, nmax1 = res.data[m].bankCapital.length; n1 < nmax1; n1++) {\r\n        let itemyear = Number(res.data[m].bankCapital[n1].cdIncome);\r\n        let itemmouth = Number(res.data[m].bankCapital[n1].cdExpenditure);\r\n        if (itemyear === theyear && themouth === itemmouth) {\r\n          yhsritem += Number(res.data[m].bankCapital[n1].cdBeiyong1);\r\n          yhzcitem += Number(res.data[m].bankCapital[n1].cdBeiyong2);\r\n        }\r\n      }\r\n      for (let n2 = 0, nmax2 = res.data[m].cashCapital.length; n2 < nmax2; n2++) {\r\n        let itemyear = Number(res.data[m].cashCapital[n2].cdIncome);\r\n        let itemmouth = Number(res.data[m].cashCapital[n2].cdExpenditure);\r\n        if (itemyear === theyear && itemmouth === themouth) {\r\n          xjsritem += Number(res.data[m].cashCapital[n2].cdBeiyong1);\r\n          xjzcitem += Number(res.data[m].cashCapital[n2].cdBeiyong2);\r\n        }\r\n      }\r\n      sritem = (xjsritem + yhsritem) / 10000;\r\n      zcitem = (xjzcitem + yhzcitem) / 10000;\r\n      sr.push(sritem.toFixed(2));\r\n      zc.push(zcitem.toFixed(2));\r\n    }\r\n    seriesItem.seriesValue.push(sr)\r\n    seriesItem.seriesValue.push(zc)\r\n    vm.chartDatezj2.seriesData.push(seriesItem)\r\n  }\r\n  vm.reloadzj2 = (new Date()).getTime();\r\n}\r\n\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"assets/css/quindex.less\";\r\n.bodyitem {\r\n  padding: 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zijin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zijin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./zijin.vue?vue&type=template&id=25ae6e0c&scoped=true&\"\nimport script from \"./zijin.vue?vue&type=script&lang=js&\"\nexport * from \"./zijin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zijin.vue?vue&type=style&index=0&id=25ae6e0c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25ae6e0c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}